@page "{id?}"
@model CategoryModel

<article>

    @if (Model.Categories.Count() == 1)
    {
        var category = Model.Categories.First();

        <h1>Category: @category.Title</h1>

        @if (Model.BlogPosts?.Any() == true)
        {
            <partial name="~/Pages/Partials/_BlogPosts.cshtml" model="@Model.BlogPosts" />
        }
        else
        {
            <p>Sorry, couldn't find any blog posts with category <em>@category.Title</em>.</p>
        }
    }
    else if (Model.Categories.Count() > 1)
    {
        <h1>Categories</h1>
        <partial name="~/Pages/Partials/_Categories.cshtml" model="@Model.Categories" />
    }
    else if (!string.IsNullOrEmpty(Model.Id))
    {
        <h1>Cannot find category</h1>
        <p>Sorry, couldn't find category <em>@Model.Id</em>.</p>
    }
    else
    {
        <h1>Cannot find category</h1>
        <p>Sorry, couldn't find any categories.</p>
    }

</article>